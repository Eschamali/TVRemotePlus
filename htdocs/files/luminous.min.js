/*!
 * Luminous v2.4.0
 * Copyright 2015-2022, Zebrafish Labs
 * Licensed under BSD-2 (https://github.com/imgix/luminous/blob/main/LICENSE.md)
 */
"use strict";!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){s.r(e);const i="object"==typeof HTMLElement,n="undefined"!=typeof ShadowRoot;function o(t){return!!(n&&t instanceof ShadowRoot)||(i?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)}function l(t,e){e.forEach((function(e){t.classList.add(e)}))}function r(t,e){e.forEach((function(e){t.classList.remove(e)}))}function h(){throw new Error("Missing parameter")}const a="undefined"!=typeof document&&"animation"in document.createElement("div").style;class g{constructor(t={}){this._sizeImgWrapperEl=this._sizeImgWrapperEl.bind(this),this.showNext=this.showNext.bind(this),this.showPrevious=this.showPrevious.bind(this),this._completeOpen=this._completeOpen.bind(this),this._completeClose=this._completeClose.bind(this),this._handleKeydown=this._handleKeydown.bind(this),this._handleClose=this._handleClose.bind(this);const{namespace:e=null,parentEl:s=h(),triggerEl:i=h(),sourceAttribute:n=h(),caption:l=null,includeImgixJSClass:r=!1,_gallery:a=null,_arrowNavigation:g=null,closeButtonEnabled:c=!0,closeTrigger:d="click"}=t;if(this.settings={namespace:e,parentEl:s,triggerEl:i,sourceAttribute:n,caption:l,includeImgixJSClass:r,_gallery:a,_arrowNavigation:g,closeButtonEnabled:c,onClose:t.onClose,closeTrigger:d},!o(this.settings.parentEl))throw new TypeError("`new Lightbox` requires a DOM element passed as `parentEl`.");this.currentTrigger=this.settings.triggerEl,this.openClasses=this._buildClasses("open"),this.openingClasses=this._buildClasses("opening"),this.closingClasses=this._buildClasses("closing"),this.hasBeenLoaded=!1,this.elementBuilt=!1}_handleClose(t){t&&"function"==typeof t.preventDefault&&t.preventDefault();const e=this.settings.onClose;e&&"function"==typeof e&&e()}_bindEventListeners(){this.el.addEventListener(this.settings.closeTrigger,this._handleClose),this.closeButtonEl&&this.closeButtonEl.addEventListener("click",this._handleClose)}_buildClasses(t){const e=["lum-"+t],s=this.settings.namespace;return s&&e.push(`${s}-${t}`),e}_buildElement(){this.el=document.createElement("div"),l(this.el,this._buildClasses("lightbox")),this.innerEl=document.createElement("div"),l(this.innerEl,this._buildClasses("lightbox-inner")),this.el.appendChild(this.innerEl);const t=document.createElement("div");l(t,this._buildClasses("lightbox-loader")),this.innerEl.appendChild(t),this.imgWrapperEl=document.createElement("div"),l(this.imgWrapperEl,this._buildClasses("lightbox-image-wrapper")),this.innerEl.appendChild(this.imgWrapperEl);const e=document.createElement("span");l(e,this._buildClasses("lightbox-position-helper")),this.imgWrapperEl.appendChild(e),this.imgEl=document.createElement("img"),l(this.imgEl,this._buildClasses("img")),e.appendChild(this.imgEl),this.captionEl=document.createElement("p"),l(this.captionEl,this._buildClasses("lightbox-caption")),e.appendChild(this.captionEl),this.settings.closeButtonEnabled&&(this.closeButtonEl=document.createElement("div"),l(this.closeButtonEl,this._buildClasses("close-button")),this.el.appendChild(this.closeButtonEl)),this.settings._gallery&&this._setUpGalleryElements(),this.settings.parentEl.appendChild(this.el),this._updateImgSrc(),this._updateCaption(),this.settings.includeImgixJSClass&&this.imgEl.classList.add("imgix-fluid")}_setUpGalleryElements(){this._buildGalleryButton("previous",this.showPrevious),this._buildGalleryButton("next",this.showNext)}_buildGalleryButton(t,e){const s=document.createElement("button");this[t+"Button"]=s,s.innerText=t,l(s,this._buildClasses(t+"-button")),l(s,this._buildClasses("gallery-button")),this.innerEl.appendChild(s),s.addEventListener("click",t=>{t.stopPropagation(),e()},!1)}_sizeImgWrapperEl(){const t=this.imgWrapperEl.style;t.width=this.innerEl.clientWidth+"px",t.maxWidth=this.innerEl.clientWidth+"px",t.height=this.innerEl.clientHeight-this.captionEl.clientHeight+"px",t.maxHeight=this.innerEl.clientHeight-this.captionEl.clientHeight+"px"}_updateCaption(){const t=typeof this.settings.caption;let e="";"string"===t?e=this.settings.caption:"function"===t&&(e=this.settings.caption(this.currentTrigger)),this.captionEl.innerHTML=e}_updateImgSrc(){const t=this.currentTrigger.getAttribute(this.settings.sourceAttribute);if(!t)throw new Error(`No image URL was found in the ${this.settings.sourceAttribute} attribute of the trigger.`);const e=this._buildClasses("loading");this.hasBeenLoaded||l(this.el,e),this.imgEl.onload=()=>{r(this.el,e),this.hasBeenLoaded=!0},this.imgEl.setAttribute("src",t)}_handleKeydown(t){37==t.keyCode?this.showPrevious():39==t.keyCode&&this.showNext()}showNext(){this.settings._gallery&&(this.currentTrigger=this.settings._gallery.nextTrigger(this.currentTrigger),this._updateImgSrc(),this._updateCaption(),this._sizeImgWrapperEl(),this.settings._gallery.onChange({imgEl:this.imgEl}))}showPrevious(){this.settings._gallery&&(this.currentTrigger=this.settings._gallery.previousTrigger(this.currentTrigger),this._updateImgSrc(),this._updateCaption(),this._sizeImgWrapperEl(),this.settings._gallery.onChange({imgEl:this.imgEl}))}open(){this.elementBuilt||(this._buildElement(),this._bindEventListeners(),this.elementBuilt=!0),this.currentTrigger=this.settings.triggerEl,this._updateImgSrc(),this._updateCaption(),l(this.el,this.openClasses),this._sizeImgWrapperEl(),window.addEventListener("resize",this._sizeImgWrapperEl,!1),this.settings._arrowNavigation&&window.addEventListener("keydown",this._handleKeydown,!1),a&&(this.el.addEventListener("animationend",this._completeOpen,!1),l(this.el,this.openingClasses))}close(){window.removeEventListener("resize",this._sizeImgWrapperEl,!1),this.settings._arrowNavigation&&window.removeEventListener("keydown",this._handleKeydown,!1),a?(this.el.addEventListener("animationend",this._completeClose,!1),l(this.el,this.closingClasses)):r(this.el,this.openClasses)}_completeOpen(){this.el.removeEventListener("animationend",this._completeOpen,!1),r(this.el,this.openingClasses)}_completeClose(){this.el.removeEventListener("animationend",this._completeClose,!1),r(this.el,this.openClasses),r(this.el,this.closingClasses)}destroy(){this.el&&this.settings.parentEl.removeChild(this.el)}}class c{constructor(t,e={}){if(this.VERSION="2.4.0",this.destroy=this.destroy.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this._handleKeyup=this._handleKeyup.bind(this),this.isOpen=!1,this.trigger=t,!o(this.trigger))throw new TypeError("`new Luminous` requires a DOM element as its first argument.");let s=document;"getRootNode"in this.trigger&&(s=this.trigger.getRootNode());const i=e.namespace||null,n=e.sourceAttribute||"href",l=e.caption||null,r=e.openTrigger||"click",h=e.closeTrigger||"click",a=!("closeWithEscape"in e)||!!e.closeWithEscape,g=e.closeOnScroll||!1,c=null==e.showCloseButton||e.showCloseButton,d=e.appendToNode||(s===document?document.body:s),u=e.appendToSelector||null,p=e.onOpen||null,m=e.onClose||null,E=e.includeImgixJSClass||!1,b=!("injectBaseStyles"in e)||!!e.injectBaseStyles,y=e._gallery||null,_=e._arrowNavigation||null;this.settings={namespace:i,sourceAttribute:n,caption:l,openTrigger:r,closeTrigger:h,closeWithEscape:a,closeOnScroll:g,closeButtonEnabled:c,appendToNode:d,appendToSelector:u,onOpen:p,onClose:m,includeImgixJSClass:E,injectBaseStyles:b,_gallery:y,_arrowNavigation:_};let f=document.body;d&&"getRootNode"in d&&(f=d.getRootNode()),this.settings.injectBaseStyles&&function(t){if(t&&t!==document||(t=document.head),t.querySelector(".lum-base-styles"))return;const e=document.createElement("style");e.type="text/css",e.classList.add("lum-base-styles"),e.appendChild(document.createTextNode("@keyframes lum-noop{0%{zoom:1}}.lum-lightbox{position:fixed;display:none;top:0;right:0;bottom:0;left:0}.lum-lightbox.lum-open{display:block}.lum-lightbox.lum-closing,.lum-lightbox.lum-opening{animation:lum-noop 1ms}.lum-lightbox-inner{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden}.lum-lightbox-loader{display:none}.lum-lightbox-inner img{max-width:100%;max-height:100%}.lum-lightbox-image-wrapper{vertical-align:middle;display:table-cell;text-align:center}")),t.insertBefore(e,t.firstChild)}(f),this._buildLightbox(),this._bindEventListeners()}open(t){t&&"function"==typeof t.preventDefault&&t.preventDefault(),this.lightbox.open(),this.settings.closeOnScroll&&window.addEventListener("scroll",this.close,!1);const e=this.settings.onOpen;e&&"function"==typeof e&&e(),this.isOpen=!0}close(t){this.settings.closeOnScroll&&window.removeEventListener("scroll",this.close,!1),this.lightbox.close();const e=this.settings.onClose;e&&"function"==typeof e&&e(),this.isOpen=!1}_buildLightbox(){let t=this.settings.appendToNode;this.settings.appendToSelector&&(t=document.querySelector(this.settings.appendToSelector)),this.lightbox=new g({namespace:this.settings.namespace,parentEl:t,triggerEl:this.trigger,sourceAttribute:this.settings.sourceAttribute,caption:this.settings.caption,includeImgixJSClass:this.settings.includeImgixJSClass,closeButtonEnabled:this.settings.closeButtonEnabled,_gallery:this.settings._gallery,_arrowNavigation:this.settings._arrowNavigation,closeTrigger:this.settings.closeTrigger,onClose:this.close})}_bindEventListeners(){this.trigger.addEventListener(this.settings.openTrigger,this.open,!1),this.settings.closeWithEscape&&window.addEventListener("keyup",this._handleKeyup,!1)}_unbindEvents(){this.trigger.removeEventListener(this.settings.openTrigger,this.open,!1),this.lightbox.el&&this.lightbox.el.removeEventListener(this.settings.closeTrigger,this.close,!1),this.settings.closeWithEscape&&window.removeEventListener("keyup",this._handleKeyup,!1)}_handleKeyup(t){this.isOpen&&27===t.keyCode&&this.close()}destroy(){this._unbindEvents(),this.lightbox.destroy()}}c.prototype.open=c.prototype.open,c.prototype.close=c.prototype.close,c.prototype.destroy=c.prototype.destroy;class d{constructor(t,e={},s={}){this.settings=Object.assign({},{arrowNavigation:!0,onChange:null},e),this.triggers=t,this.luminousOpts=s,this.luminousOpts._gallery=this,this.luminousOpts._arrowNavigation=this.settings.arrowNavigation,this._constructLuminousInstances()}_constructLuminousInstances(){this.luminousInstances=[];const t=this.triggers.length;for(let e=0;e<t;e++){const t=this.triggers[e],s=new c(t,this.luminousOpts);this.luminousInstances.push(s)}}nextTrigger(t){const e=Array.prototype.indexOf.call(this.triggers,t)+1;return e>=this.triggers.length?this.triggers[0]:this.triggers[e]}previousTrigger(t){const e=Array.prototype.indexOf.call(this.triggers,t)-1;return e<0?this.triggers[this.triggers.length-1]:this.triggers[e]}onChange({imgEl:t}){const e=this.settings.onChange;e&&"function"==typeof e&&e({imgEl:t})}destroy(){this.luminousInstances.forEach(t=>t.destroy())}}d.prototype.destroy=d.prototype.destroy,window.LuminousGallery=d,window.Luminous=c}]);